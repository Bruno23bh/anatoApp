<!-- FIXME: Add this to the RC  -->
<ion-header translucent="true">
  <ion-toolbar>
    <ion-title class="ion-text-center">Notificaciones</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="dismiss()">
        <ion-icon name="close-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [ngSwitch]="activeSegment">
  <ion-grid fixed>
    <ion-row>
      <ion-col size="12">
        <ion-segment (ionChange)="changeSegment($event)"
                     value="{{activeSegment}}">
          <ion-segment-button layout="icon-start"
                              value="activas">
            <ion-icon name="notifications-outline"></ion-icon>
            &nbsp; Activas
          </ion-segment-button>
          <ion-segment-button layout="icon-start"
                              value="inactivas">
            <ion-icon name="archive-outline"></ion-icon>
            &nbsp; Inactivas
          </ion-segment-button>
        </ion-segment>
      </ion-col>
    </ion-row>

    <div *ngSwitchCase="'activas'">
      <ion-row *ngIf="activeNotifications?.length > 0; else loading">
        <ion-col size="12">
          <ion-list>
            <div *ngFor="let notification of activeNotifications">
              <ion-item detail
                        button
                        id="entity-item">
                <ion-buttons slot="start">
                  <ion-button color="primary"
                              (click)="markedAsRead(notification)">
                    <ion-icon slot="icon-only"
                              name="checkmark-done-circle-outline"></ion-icon>
                  </ion-button>
                </ion-buttons>
                <ion-label (click)="goToEntity(notification)">
                  <h2>{{notification.titulo}}</h2>
                  <p>Tipo de notificación: {{notification.type}} - Asignada el: {{notification.fecha}}</p>
                </ion-label>
              </ion-item>
            </div>
          </ion-list>
        </ion-col>
      </ion-row>
    </div>

    <div *ngSwitchCase="'inactivas'">
      <ion-row *ngIf="inactiveNotifications?.length > 0; else loadingInactive">
        <ion-col size="12">
          <ion-list>
            <div *ngFor="let notification of inactiveNotifications">
              <ion-item detail
                        button
                        id="entity-item"
                        (click)="goToEntity(notification)">
                <ion-buttons slot="start">
                  <ion-button>
                    <ion-icon slot="icon-only"
                              name="archive-outline"></ion-icon>
                  </ion-button>
                </ion-buttons>
                <ion-label>
                  <h2>{{notification.titulo}}</h2>
                  <p>Tipo de notificación: {{notification.type}} - Asignada el: {{notification.fecha}}</p>
                </ion-label>
              </ion-item>
            </div>
          </ion-list>
        </ion-col>
      </ion-row>
    </div>


  </ion-grid>
</ion-content>

<ng-template #loading>
  <ion-grid fixed>
    <ion-row style="height: 100%;"
             class="ion-justify-content-center ion-align-items-center">
      <ion-col *ngIf="!showNoNotificationsMessageForActiveNotifications">
        <app-skeleton></app-skeleton>
      </ion-col>
      <ion-col *ngIf="showNoNotificationsMessageForActiveNotifications">
        <ion-img class="ion-padding"
                 alt="No hay notificaciones"
                 src="./assets/images/no-notifications.svg"></ion-img>
        <ion-text color="primary"
                  class="ion-text-center">
          <p>Has terminado de revisar las notifaciones</p>
        </ion-text>
      </ion-col>
    </ion-row>
  </ion-grid>
</ng-template>

<ng-template #loadingInactive>
  <ion-grid fixed>
    <ion-row style="height: 100%;"
             class="ion-justify-content-center ion-align-items-center">
      <ion-col *ngIf="!showNoNotificationsMessageForInactiveNotifications">
        <app-skeleton></app-skeleton>
      </ion-col>
      <ion-col *ngIf="showNoNotificationsMessageForInactiveNotifications">
        <ion-img class="ion-padding"
                 alt="No hay notificaciones"
                 src="./assets/images/no-notifications.svg"></ion-img>
        <ion-text color="primary"
                  class="ion-text-center">
          <p>Has terminado de revisar las notifaciones</p>
        </ion-text>
      </ion-col>
    </ion-row>
  </ion-grid>
</ng-template>