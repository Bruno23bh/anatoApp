<ion-row *ngIf="type === 'card'">
  <ion-col size="12">
    <ion-card>
      <ion-card-header>
        <ion-card-title>{{uploadFilesContent?.cardTypeTitle}}</ion-card-title>
        <ion-item class="ion-no-padding"
                  [attr.disabled]="entity.id === '0'">
          <ion-card-title>
            <ion-searchbar placeholder="Filtrar"
                           class="searchbar-card"
                           debounce="700"
                           [(ngModel)]="searchValue"
                           (ionChange)="filterFiles($event)"></ion-searchbar>
          </ion-card-title>
          <ion-buttons slot="end">
            <ion-button (click)="takePicture()"
                        color="primary">
              <ion-icon name="camera-outline"
                        slot="icon-only"></ion-icon>
            </ion-button>
            <ion-button (click)="uploadLink()"
                        color="primary">
              <ion-icon name="link-outline"
                        slot="icon-only"></ion-icon>
            </ion-button>
            <div id="file-input-container">
              <ion-icon slot="icon-only"
                        color="primary"
                        name="add-circle-outline"></ion-icon>
              <input type="file"
                     (change)="uploadEntity($event)"
                     accept=".pdf, .jpg, .jpeg, .xls, .doc, .docx, .xlsx"
                     style="opacity: 0"
                     #filesInput>
            </div>
          </ion-buttons>
        </ion-item>
        <small>{{uploadFilesContent?.messageArchivosAceptados}}</small>
      </ion-card-header>

      <ion-card-content>

        <ion-row>
          <ion-col size="12">
            <ion-progress-bar *ngIf="isUploadingFile"
                              type="indeterminate"></ion-progress-bar>
          </ion-col>
        </ion-row>

        <ion-row *ngIf="loadedFiles.length > 0">
          <ion-col size="12">
            <ion-list>
              <ion-item tappable
                        *ngFor="let item of loadedFiles"
                        class="ion-no-padding"
                        lines="none">
                <ion-icon slot="start"
                          color="primary"
                          name="cloud-download-outline"
                          *ngIf="item.type !=='text/link'"
                          (click)="downloadEntity(item)"></ion-icon>
                <ion-icon slot="start"
                          color="primary"
                          name="link-outline"
                          (click)="openUrl(item.fileUrl)"
                          *ngIf="item.type ==='text/link'"></ion-icon>
                <ion-label>
                  <h2>{{item.name}}</h2>
                  <ion-text>
                    <small>
                      <ion-note *ngIf="item.type === 'application/pdf'"
                                color="danger"> <i class="far fa-file-pdf 3x"></i>
                        {{uploadFilesContent?.pageTypeFileTypes[0]}}</ion-note>
                      <ion-note *ngIf="(item.type === 'application/vnd.ms-excel') || (item.type ==='application/vnd.openxmlformats-officedocument.spreadsheetml.sheet')"
                                color="success"><i class="far fa-file-excel"></i>
                        {{uploadFilesContent?.pageTypeFileTypes[1]}}</ion-note>
                      <ion-note *ngIf="item.type ==='image/jpeg'"
                                color="primary"><i class="far fa-image"></i>
                        {{uploadFilesContent?.pageTypeFileTypes[2]}} </ion-note>
                      <ion-note *ngIf="(item.type === 'application/vnd.ms-word')"
                                color="success"><i class="far fa-file-word"></i>
                        {{uploadFilesContent?.pageTypeFileTypes[3]}}</ion-note>
                      <ion-note *ngIf="item.type ==='text/link'"
                                color="dark"><i class="fas fa-link"></i>
                        {{uploadFilesContent?.pageTypeFileTypes[4]}} -
                        <span (click)="openUrl(item.fileUrl)">{{item.fileUrl}}</span>
                      </ion-note>
                    </small>
                  </ion-text>
                </ion-label>
                <!-- <ion-text>
                  <ion-label>{{file.name}}</ion-label>
                  <ion-note color="primary"
                            *ngIf="file.type ==='text/link'">
                    <small>
                      <span (click)="openUrl(file.fileUrl)">{{file.fileUrl}}</span>
                    </small>
                  </ion-note>
                </ion-text> -->
                <ion-icon slot="end"
                          color="primary"
                          name="create-outline"
                          (click)="editEntityName(item)"></ion-icon>
                <ion-icon slot="end"
                          color="danger"
                          name="trash-outline"
                          (click)="removeEntityFile(item)"></ion-icon>
              </ion-item>
            </ion-list>

          </ion-col>
        </ion-row>

      </ion-card-content>
    </ion-card>
    <ion-text class="ion-padding-start"
              *ngIf="entity.id === '0'"
              color="danger">
      <small>{{uploadFilesContent?.cardTypeMessageGuardarAntesDeCargar}} </small>
    </ion-text>
  </ion-col>
</ion-row>

<div *ngIf="type === 'page'">
  <ion-grid fixed>
    <ion-row>
      <ion-col>
        <ion-item class="ion-no-padding"
                  lines="none">
          <ion-card-title>{{uploadFilesContent?.pageTypeTitle}}</ion-card-title>
          <ion-buttons slot="end">
            <div id="file-input-container">
              <ion-icon slot="icon-only"
                        name="add-circle-outline"></ion-icon>
              <input type="file"
                     (change)="uploadEntity($event)"
                     accept=".pdf, .jpg, .jpeg, .xls, .doc, .docx, .xlsx"
                     style="opacity: 0"
                     #filesInput>
            </div>
            <ion-button (click)="takePicture()">
              <ion-icon name="camera-outline"
                        slot="icon-only"></ion-icon>
            </ion-button>
            <ion-button (click)="uploadLink()">
              <ion-icon name="link-outline"
                        slot="icon-only"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-item>
        <small>{{uploadFilesContent?.messageArchivosAceptados}}</small>
        <ion-searchbar placeholder="Ingrese nombre del archivo que deseas buscar"
                       debounce="700"
                       [(ngModel)]="searchValue"
                       (ionChange)="filterFiles($event)"></ion-searchbar>
        <div *ngIf="isUploadingFile"
             class="ion-margin">
          <ion-progress-bar type="indeterminate"></ion-progress-bar>
        </div>
        <ion-list>
          <ion-item tappable
                    class="ion-no-padding"
                    *ngFor="let item of loadedFiles">
            <ion-icon slot="start"
                      color="primary"
                      name="cloud-download-outline"
                      *ngIf="item.type !=='text/link'"
                      (click)="downloadEntity(item)"></ion-icon>
            <ion-icon slot="start"
                      color="primary"
                      name="link-outline"
                      (click)="openUrl(item.fileUrl)"
                      *ngIf="item.type ==='text/link'"></ion-icon>
            <ion-label>
              <h2>{{item.name}}</h2>
              <ion-text>
                <small>
                  <ion-note *ngIf="item.type === 'application/pdf'"
                            color="danger"> <i class="far fa-file-pdf 3x"></i>
                    {{uploadFilesContent?.pageTypeFileTypes[0]}}</ion-note>
                  <ion-note *ngIf="(item.type === 'application/vnd.ms-excel') || (item.type ==='application/vnd.openxmlformats-officedocument.spreadsheetml.sheet')"
                            color="success"><i class="far fa-file-excel"></i>
                    {{uploadFilesContent?.pageTypeFileTypes[1]}}</ion-note>
                  <ion-note *ngIf="item.type ==='image/jpeg'"
                            color="primary"><i class="far fa-image"></i>
                    {{uploadFilesContent?.pageTypeFileTypes[2]}} </ion-note>
                  <ion-note *ngIf="(item.type === 'application/vnd.ms-word')"
                            color="success"><i class="far fa-file-word"></i>
                    {{uploadFilesContent?.pageTypeFileTypes[3]}}</ion-note>
                  <ion-note *ngIf="item.type ==='text/link'"
                            color="dark"><i class="fas fa-link"></i>
                    {{uploadFilesContent?.pageTypeFileTypes[4]}} -
                    <span (click)="openUrl(item.fileUrl)">{{item.fileUrl}}</span>
                  </ion-note>
                </small>
              </ion-text>
            </ion-label>
            <ion-icon slot="end"
                      color="primary"
                      name="create-outline"
                      (click)="editEntityName(item)"></ion-icon>
            <ion-icon slot="end"
                      color="danger"
                      name="trash-outline"
                      (click)="removeEntityFile(item)"></ion-icon>
          </ion-item>
        </ion-list>
      </ion-col>
    </ion-row>
  </ion-grid>
</div>